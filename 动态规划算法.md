# 																		动态规划算法

## 动态规划问题的性质

1. 重叠子问题 => 备忘录

2. 最优子结构

   > **要符合「最优子结构」，子问题间必须互相独立**

## 基本概念

- 带备忘录的递归解法的效率已经和迭代的动态规划解法一样了。实际上，这种解法和迭代的动态规划已经差不多了，只不过这种方法叫做「自顶向下」，动态规划叫做「自底向上」。

- 啥叫「自顶向下」？注意我们刚才画的递归树（或者说图），是从上向下延伸，都是从一个规模较大的原问题比如说 $f(20)$，向下逐渐分解规模，直到 $f(1)$ 和 $f(2)$ 这两个 base case，然后逐层返回答案，这就叫「自顶向下」。

- 啥叫「自底向上」？反过来，我们直接从最底下，最简单，问题规模最小的 $f(1)$ 和$f(2)$开始往上推，直到推到我们想要的答案 $f(20)$​，这就是动态规划的思路，这也是为什么动态规划一般都脱离了递归，而是由循环迭代完成计算。

  > **动态规划的基础是递归**

## 术语

`状态转移方程` 你把 $f(n)$​ 想做一个状态 $n$​ ，这个状态 $n$​ 是由状态 $n - 1$​ 和状态 $n - 2$​​ 相加转移而来，这就叫状态转移，例如

![image-20210802115033994](动态规划算法.assets/image-20210802115033994.png)

> **状态转移方程直接代表着暴力解法**：**动态规划问题最困难的就是写出这个暴力解，即状态转移方程**。只要写出暴力解，优化方法无非是用备忘录或者 DP table，再无奥妙可言。

`状态压缩` 如果我们发现每次状态转移只需要 DP table 中的一部分，那么可以尝试用状态压缩来缩小 DP table 的大小，只记录必要的数据

`子序列` 子序列不一定是连续的

`字串` 子串一定是连续的

## 相关题目

### [322. 零钱兑换](https://leetcode-cn.com/problems/coin-change/)

一句话题目描述：返回可以凑成总金额所需的 **最少的硬币个数**

![image-20210802163705579](动态规划算法.assets/image-20210802163705579.png)

`注` 

1. 要注意第11行的判断，若减去当前硬币后值<0，则说明不可以减去

2. 本题的`状态转移方程`为

   ![img](https://labuladong.gitee.io/algo/images/%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e8%af%a6%e8%a7%a3%e8%bf%9b%e9%98%b6/coin.png)

   

### [300. 最长递增子序列](https://leetcode-cn.com/problems/longest-increasing-subsequence/)

题目描述：给你一个整数数组 nums ，找到其中最长`严格递增` `子序列`的长度。

```C++
class Solution {
public:
    int lengthOfLIS(vector<int>& nums) {
        vector<int> dp(nums.size(), 1); //将dp[i]都初始化为1，因为子序列的长度至少为1，包含其自身

        for(int i = 0; i < nums.size(); i++){
            for(int j = 0; j < i; j++){
                if(nums[i] > nums[j]){
                    dp[i] = max(dp[i], dp[j] + 1);
                }
            }
        }

        int maxL = dp[0];
        for(int i = 0; i < nums.size(); i++){
            maxL = max(maxL, dp[i]);
        }

        return maxL;
    }
};
```

`注`

1. 十分重要的是，本题中 $dp[i]$ 的定义为以 <u>数组中索引为 $i$ 的元素为结尾的最大子序列的长度</u>，所以要计算 $dp[i]$ 时，只需要在 $dp[j], j < i$ 的基础上 +1即可，当然需要满足，$nums[i] > nums[j]$​​，才能串起来成严格递增，所以本题的`状态转移方程`为

![image-20210802173230349](动态规划算法.assets/image-20210802173230349.png)
